define("stripColumnsContainer",["react","lodash","core","santaProps","components","backgroundCommon"],function(i,t,e,r,o,n){"use strict";var s=e.compMixins,p={displayName:"StripColumnsContainer",mixins:[o.mediaCommon.mediaLogicMixins.fill,s.skinBasedComp,n.mixins.backgroundDetectionMixin,s.createChildComponentMixin],propTypes:{style:r.Types.Component.style.isRequired,compProp:r.Types.Component.compProp,isMobileView:r.Types.isMobileView.isRequired,siteWidth:r.Types.siteWidth.isRequired,getScreenWidth:r.Types.getScreenWidth.isRequired,getScrollBarWidth:r.Types.getScrollBarWidth.isRequired,browser:r.Types.Browser.browser.isRequired,childrenData:r.Types.ColumnsContainer.childrenData.isRequired},statics:{useSantaTypes:!0,behaviors:o.mediaCommon.mediaBehaviors.fill},componentDidLayout:function(){var i=this.props.getScrollBarWidth(),t=this.props.getScreenWidth(),e=this.lastScrollBarWidth!==i,r=this.lastScreenWidth!==t;this.props.isMobileView||!e&&!r||(this.lastScrollBarWidth=i,this.lastScreenWidth=t,this.registerReLayout(),this.forceUpdate())},getDefaultSkinName:function(){return"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer"},getMobileSkinProperties:function(){var t=this.props.compProp.rowMargin,e=i.Children.map(this.props.children,function(e){var r={position:"absolute",top:t,height:this.props.childrenData[e.props.id].height,left:0,width:320};t+=r.height+this.props.compProp.columnsMargin;return e=i.cloneElement(e,{rootStyle:r,bgStyle:{position:"absolute",overflow:"hidden",width:320,left:0,top:0,bottom:0}})},this);return{"":{tagName:"section",style:{height:t-this.props.compProp.columnsMargin+this.props.compProp.rowMargin}},background:this.createFillLayers(),inlineContent:{children:e}}},getDesktopSkinProperties:function(){var e=this.props.siteWidth,r=this.props.getScreenWidth();this.lastScreenWidth=r;var o=function(e){var r=t.sum(i.Children.map(e.children,function(i){var t=i.props.id;return e.childrenData[t].width})),o=i.Children.map(e.children,function(i){var t=i.props.id;return e.childrenData[t].width/r*100/100}),n=t.sum(o);return o[0]+=1-n,o}(this.props),n=o.length,s=this.props.compProp,p=e-s.columnsMargin*(n-1)-2*s.frameMargin,a=t.map(o,function(i){return p*i}),l=t.reduce(o,function(i,t){return i.push(i[i.length-1]+t),i},[0]),h=void 0,c=void 0,d=void 0,u=this.props.getScrollBarWidth();this.lastScrollBarWidth=u;var m=r&&r<=e,g=void 0;s.fullWidth&&!m?(g=1,c="(100vw - "+u+"px - "+2*s.siteMargin+"px)",h="(100vw - "+u+"px - "+(s.columnsMargin*(n-1)+2*(s.siteMargin+s.frameMargin))+"px)",d="("+e+"px - "+c+") / 2 + "+s.frameMargin+"px + "):(g=0,c=e+"px",h="("+(e-(s.columnsMargin*(n-1)+2*s.frameMargin))+"px)",d=s.frameMargin+"px + ");var f=i.Children.map(this.props.children,function(t,e){var r=o[e],n=t.props.id,p=this.props.childrenData[n].alignment/100,c={position:"absolute",left:"calc("+h+" * "+(l[e]+r*p)+" + "+d+(e*s.columnsMargin-a[e]*p)+"px)",width:a[e],top:s.rowMargin,height:this.props.childrenData[n].height},u={position:"absolute",width:"calc("+h+" * "+r+" + "+g+"px)",left:"calc(("+h+" * "+r+" - "+a[e]+"px) * "+-p+" - "+g+"px)",top:0,bottom:0},m={position:"absolute",width:a[e],top:0,bottom:0,left:"calc((100% - "+a[e]+"px) * "+p+")"};return t=i.cloneElement(t,{rootStyle:c,bgStyle:u,inlineStyle:m})},this),S=this.getDesktopBalataProps(c,e);return{"":{tagName:"section"},background:this.createFillLayers(S),inlineContent:{children:f}}},getDesktopBalataProps:function(i,e){return t.assign({bgStyle:{top:0,bottom:0,left:"calc("+parseInt(e/2,10)+"px - ("+i+" / 2))",right:"calc("+parseInt(e/2,10)+"px + ("+i+" / 2))",width:"calc("+i+")"}},this.props)},getSkinProperties:function(){return this.props.isMobileView?this.getMobileSkinProperties():this.getDesktopSkinProperties()}};return e.compRegistrar.register("wysiwyg.viewer.components.StripColumnsContainer",p,!0),p});
//# sourceMappingURL=stripColumnsContainer.min.js.map